# 题库解析脚本说明

## 模块化架构

解析脚本已重构为模块化设计，每个题型有独立的解析器模块。

### 目录结构

```
scripts/
├── parse-exam.js          # 主入口文件
└── parsers/               # 解析器模块目录
    ├── single-choice.js   # 单选题解析器
    ├── fill-blank.js      # 填空题解析器
    ├── true-false.js      # 判断题解析器
    ├── short-answer.js    # 简答题解析器
    └── code.js            # 代码题解析器
```

## 使用方法

```bash
# 运行解析脚本
node scripts/parse-exam.js
```

## 输出文件

解析脚本会生成以下JSON文件：

### 分离文件（按题型）

- `src/data/single-choice.json` - 单选题
- `src/data/fill-blank.json` - 填空题
- `src/data/true-false.json` - 判断题
- `src/data/short-answer.json` - 简答题
- `src/data/code.json` - 代码题

### 合并文件

- `src/data/questions.json` - 所有题目合并

## 支持的题目格式

### 单选题 (single.txt)

```
1.题目内容？ D
A. 选项A
B. 选项B
C. 选项C
D. 选项D
```

### 填空题 (fill.txt)

```
1.题目内容 ______。
答案：正确答案
```

### 判断题 (tf.txt)

```
1. 题目内容。 ( √)
```

或

```
1. 题目内容。 (× )
```

### 简答题 (short.txt)

```
1. 题目内容？
参考答案：
答案内容可以多行
```

### 代码题 (code.txt)

```
1. 题目：编写xxx

#!/bin/bash
代码内容
```

## 解析结果统计

当前题库包含：

- 总题数：115 道
- 单选题：44 道
- 填空题：30 道
- 判断题：20 道
- 简答题：20 道
- 代码题：1 道

## 模块说明

### parse-exam.js (主入口)

- 调用各个解析器模块
- 生成分离的JSON文件
- 合并所有题目到 questions.json
- 显示解析统计信息
- 错误处理和日志输出

### 各解析器模块

每个解析器都是独立模块，负责：

- 读取对应的txt文件
- 解析题目内容
- 提取答案
- 生成标准化的JSON对象
- 导出解析函数供主入口调用

## 优势

1. **模块化**: 每个题型独立解析，易于维护和扩展
2. **可复用**: 解析器可独立测试和使用
3. **分离存储**: 既有分类文件也有合并文件，灵活使用
4. **错误隔离**: 单个解析器失败不影响其他题型
5. **清晰输出**: 详细的解析日志和统计信息
